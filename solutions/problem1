def rotate_left(row):
    return row[1:] + row[0]

def rotate_right(row):
    return row[-1] + row[:-1]

def main():
    with open("inputs/grid.txt", "r") as f:
        grid = [line.strip() for line in f]

    with open("inputs/directions.txt", "r") as f:
        directions = f.read().split()

    transformed_rows = []

    for row, direction in zip(grid, directions):
        d = direction.upper()

        if d == "L":
            transformed_rows.append(rotate_left(row))
        elif d == "R":
            transformed_rows.append(rotate_right(row))
        else:
            raise ValueError(f"Invalid direction given: {direction}")

    middle_index = len(transformed_rows) // 2
    middle_row = transformed_rows[middle_index]

    ascii_sum = sum(ord(char) for char in middle_row)

    print("Clue 1:", ascii_sum)

if __name__ == "__main__":
    main()